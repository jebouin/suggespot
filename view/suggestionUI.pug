include voteUI

mixin suggestion(data, canVote)
  div.suggestion
    + voteUI("0_" + data.id, data.score, data.dir, canVote)
    if data.thumb
      img(src=data.thumb)
    else
      img(src="/uploads/default.png")
    div.suggestionBody
      a(href=data.href)
        span.title #{data.title}
      if data.dist
        | &nbsp;(#{data.dist < 1000 ? Math.round(data.dist / 10) * 10 + " m" : Math.floor(data.dist / 100) / 10 + " km"})
      if !data.published
        | &nbsp;(Private)
      div.descr #{data.descr}

if suggestions && suggestions.length
  each s in suggestions
    +suggestion(s, typeof(user) !== "undefined")
